<!-- This type defines the filter configuration data for the AWS Secrets Manager filter
which retrieves secrets from AWS Secrets Manager from Axway API Gateway "class" - The 
filter classname. "secretName" - The name of the AWS Secret to retrieve
"secretRegion" - The AWS region where the secret is located "maxRetries" - 
Maximum number of retry attempts "retryDelay" - Delay between retry attempts 
in milliseconds "credentialType" - Type of credentials to use (local, file, iam, profile) -->

<entityStoreData>
	<entityType name="AWSSecretsFilter" extends="AWSFilter">
		<constant name="class" type="string" value="com.axway.aws.secretsmanager.GetSecretValueFilter" />
		<field name="secretName" type="string" cardinality="1" default="" />
		<field name="secretRegion" type="string" cardinality="1" default="us-east-1" />
		<field name="maxRetries" type="string" cardinality="1" default="3" />
		<field name="retryDelay" type="string" cardinality="1" default="1000" />
		<field name="credentialType" type="string" cardinality="1" default="local" />
		<field name="awsCredential" type="^ApiKeyProfile" cardinality="?" />
		<field name="clientConfiguration" type="^AWSClientConfiguration" cardinality="?">
			<defaultRef>
				<key type="AWSSettings">
					<id field="name" value="Amazon Web Services Settings"/>
					<key type="AWSClientConfiguration">
						<id field="name" value="Default AWS Client Configuration"/>
					</key>
				</key>
			</defaultRef>
		</field>
		<field name="credentialsFilePath" type="string" cardinality="1" default="" />
	</entityType>

	<!-- Internationalization for logging / audit trail -->
	<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"
		type="InternationalizationFilter">
		<key type="Internationalization">
			<id field="name" value="Internationalization Default" />
		</key>
		<fval name="type">
			<value>AWSSecretsFilter</value>
		</fval>
		<fval name="logFatal">
			<value>Error in the AWS Secrets Manager filter. Error: ${circuit.exception}</value>
		</fval>
		<fval name="logFailure">
			<value>Failed in the AWS Secrets Manager filter</value>
		</fval>
		<fval name="logSuccess">
			<value>Success in the AWS Secrets Manager filter</value>
		</fval>
	</entity>

</entityStoreData>
